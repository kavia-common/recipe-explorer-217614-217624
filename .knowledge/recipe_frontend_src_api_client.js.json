{"is_source_file": true, "format": "JavaScript", "description": "This file is a JavaScript module that defines an API client for a Recipe app. It provides functions for interacting with backend endpoints, including search, retrieval, saving, and user authentication, using fetch with JSON helper utilities.", "external_files": ["fetch API (built-in)", "process.env for environment variables"], "external_methods": ["fetch"], "published": ["getApiBase", "setAuthTokenGetter", "api"], "classes": [], "methods": [{"name": "getApiBase()", "description": "Returns the API base URL from environment variable or default.", "scope": "", "scopeKind": ""}, {"name": "setAuthTokenGetter(getterFn)", "description": "Registers a function that returns a JWT token string or null to be used for authorization.", "scope": "", "scopeKind": ""}, {"name": "search", "description": "Search recipes with a query string."}, {"name": "getRecipe", "description": "Retrieve a recipe by its ID."}, {"name": "getSaved", "description": "Fetches saved recipes for the current user (requires authentication)."}, {"name": "saveRecipe", "description": "Saves a recipe to the user's saved list (requires authentication)."}, {"name": "unsaveRecipe", "description": "Removes a recipe from the user's saved list (requires authentication)."}, {"name": "login", "description": "Performs user login with email and password."}, {"name": "signup", "description": "Performs user registration with email and password."}, {"name": "request(path, { method = 'GET', body, headers } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["request"], "search-terms": ["API client", "fetch wrapper", "recipes", "authentication", "saved recipes", "search endpoint", "JWT token"], "state": 2, "file_id": 13, "knowledge_revision": 29, "git_revision": "", "ctags": [{"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^    'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "request.reqHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_BASE", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^const DEFAULT_BASE = 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^export function getApiBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  getRecipe: (id) => request(`\\/recipes\\/${id}`),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getSaved", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  getSaved: () => request(`\\/users\\/me\\/saved`),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  login: (email, password) => request(`\\/auth\\/login`, { method: 'POST', body: { email, password/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "reqHeaders", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  const reqHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "request", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^async function request(path, { method = 'GET', body, headers } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', body, headers } = {})"}, {"_type": "tag", "name": "saveRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  saveRecipe: (recipeId) => request(`\\/users\\/me\\/saved`, { method: 'POST', body: { recipe_id: r/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  search: (q) => request(`\\/recipes\\/search?q=${encodeURIComponent(q || '')}`),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "setAuthTokenGetter", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^export function setAuthTokenGetter(getterFn) {$/", "language": "JavaScript", "kind": "function", "signature": "(getterFn)"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  signup: (email, password) => request(`\\/auth\\/signup`, { method: 'POST', body: { email, passwo/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "tokenGetter", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^let tokenGetter = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "unsaveRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  unsaveRecipe: (recipeId) => request(`\\/users\\/me\\/saved\\/${encodeURIComponent(recipeId)}`, { m/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}], "hash": "2b5be0a7e67524dea53c3d4be3ffcff4", "format-version": 4, "code-base-name": "recipe_frontend", "filename": "recipe_frontend/src/api/client.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "request.reqHeaders", "scopeKind": "class", "description": "unavailable"}, {"name": "getRecipe: (id) => request(`\\/recipes\\/${id}`),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "getSaved: () => request(`\\/users\\/me\\/saved`),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "login: (email, password) => request(`\\/auth\\/login`, { method: 'POST', body: { email, password/", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "saveRecipe: (recipeId) => request(`\\/users\\/me\\/saved`, { method: 'POST', body: { recipe_id: r/", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "search: (q) => request(`\\/recipes\\/search?q=${encodeURIComponent(q || '')}`),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "signup: (email, password) => request(`\\/auth\\/signup`, { method: 'POST', body: { email, passwo/", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "let tokenGetter = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unsaveRecipe: (recipeId) => request(`\\/users\\/me\\/saved\\/${encodeURIComponent(recipeId)}`, { m/", "scope": "api", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"29": ""}]}