{"is_source_file": true, "format": "JavaScript", "description": "This file defines a lightweight API client for the Recipe application, including methods for fetching recipes, user data, authentication, and saving/unsaving recipes. It incorporates fetch requests, manages authorization tokens, and provides utility functions for API interactions.", "external_files": ["fetch"], "external_methods": ["fetch"], "published": ["getApiBase", "setAuthTokenGetter", "api"], "classes": [], "methods": [{"name": "getApiBase()", "description": "Returns the API base URL from environment variables or default.", "scope": "", "scopeKind": ""}, {"name": "setAuthTokenGetter(getterFn)", "description": "Registers a function that provides the JWT token for authenticated requests.", "scope": "", "scopeKind": ""}, {"name": "search", "description": "Searches recipes by query string."}, {"name": "getRecipe", "description": "Retrieves a recipe by its ID."}, {"name": "getSaved", "description": "Fetches saved recipes for the current user."}, {"name": "saveRecipe", "description": "Saves a recipe for the user."}, {"name": "unsaveRecipe", "description": "Removes a saved recipe for the user."}, {"name": "login", "description": "Authenticates a user with email and password."}, {"name": "signup", "description": "Registers a new user with email and password."}, {"name": "request(path, { method = 'GET', body, headers } = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["fetch", "getApiBase", "tokenGetter()"], "search-terms": ["client.js", "API client", "fetch", "authorization", "recipe"], "state": 2, "file_id": 13, "knowledge_revision": 58, "git_revision": "00aa747a27ff0af2782596b9efe1e4cd995daf48", "revision_history": [{"29": ""}, {"58": "00aa747a27ff0af2782596b9efe1e4cd995daf48"}], "ctags": [{"_type": "tag", "name": "Content-Type", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^    'Content-Type': 'application\\/json',$/", "language": "JavaScript", "kind": "property", "scope": "request.reqHeaders", "scopeKind": "class"}, {"_type": "tag", "name": "DEFAULT_BASE", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^const DEFAULT_BASE = 'http:\\/\\/localhost:3001';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^export const api = {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "getApiBase", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^export function getApiBase() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  getRecipe: (id) => request(`\\/recipes\\/${id}`),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "getSaved", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  getSaved: () => request(`\\/users\\/me\\/saved`),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "login", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  login: (email, password) => request(`\\/auth\\/login`, { method: 'POST', body: { email, password/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "reqHeaders", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  const reqHeaders = {$/", "language": "JavaScript", "kind": "class", "scope": "request", "scopeKind": "class"}, {"_type": "tag", "name": "request", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^async function request(path, { method = 'GET', body, headers } = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(path, { method = 'GET', body, headers } = {})"}, {"_type": "tag", "name": "saveRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  saveRecipe: (recipeId) => request(`\\/users\\/me\\/saved`, { method: 'POST', body: { recipe_id: r/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "search", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  search: (q) => request(`\\/recipes\\/search?q=${encodeURIComponent(q || '')}`),$/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "setAuthTokenGetter", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^export function setAuthTokenGetter(getterFn) {$/", "language": "JavaScript", "kind": "function", "signature": "(getterFn)"}, {"_type": "tag", "name": "signup", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  signup: (email, password) => request(`\\/auth\\/signup`, { method: 'POST', body: { email, passwo/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}, {"_type": "tag", "name": "tokenGetter", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^let tokenGetter = null;$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "unsaveRecipe", "path": "/home/kavia/workspace/code-generation/recipe-explorer-217614-217624/recipe_frontend/src/api/client.js", "pattern": "/^  unsaveRecipe: (recipeId) => request(`\\/users\\/me\\/saved\\/${encodeURIComponent(recipeId)}`, { m/", "language": "JavaScript", "kind": "property", "scope": "api", "scopeKind": "class"}], "hash": "2e9c7e3b55847b8852d7e12e865c755f", "format-version": 4, "code-base-name": "recipe_frontend", "filename": "recipe_frontend/src/api/client.js", "fields": [{"name": "'Content-Type': 'application\\/json',", "scope": "request.reqHeaders", "scopeKind": "class", "description": "unavailable"}, {"name": "getRecipe: (id) => request(`\\/recipes\\/${id}`),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "getSaved: () => request(`\\/users\\/me\\/saved`),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "login: (email, password) => request(`\\/auth\\/login`, { method: 'POST', body: { email, password/", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "saveRecipe: (recipeId) => request(`\\/users\\/me\\/saved`, { method: 'POST', body: { recipe_id: r/", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "search: (q) => request(`\\/recipes\\/search?q=${encodeURIComponent(q || '')}`),", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "signup: (email, password) => request(`\\/auth\\/signup`, { method: 'POST', body: { email, passwo/", "scope": "api", "scopeKind": "class", "description": "unavailable"}, {"name": "let tokenGetter = null;", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "unsaveRecipe: (recipeId) => request(`\\/users\\/me\\/saved\\/${encodeURIComponent(recipeId)}`, { m/", "scope": "api", "scopeKind": "class", "description": "unavailable"}]}